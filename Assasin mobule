from .. import loader, utils
from asyncio import sleep
import random

class assasinMod(loader.Module):
    strings = {"name": "assasin module"}

    async def client_ready(self, client, db) -> None:
        self.db = db
        self.client = client

    async def assasincmd(self, message):
        """Пример ввода: .assasin <задержка появления текста в секундах> <шапка>"""
        args = utils.get_args(message)
        if not args:
            self.db.set(self.strings["name"], "state", False)
            await utils.answer(message, "<b>спам атака закончена, радуйтесь. Слава assasin klan</b>")
            return
        await utils.answer(
            message,
            "<b>началась спам атака на чат/лс.Давайте потанцуем бляди?\n\n"
            "Чтобы отключить модуль assasin используй <code>.assasin</code></b>",
        )
        try:
            time = float(args[0])
        except ValueError:
            return
        text = " ".join(utils.get_args_raw(message).split()[1:])
        shabl = [
             "Твоя матуха слабая шавка"
             , "Я насрал на твой любимый ковер огромную кучу жидкого и вонючего поноса. Твои папка и мамка бросились к куче поноса и принялись жадно слизывать его языками с пола. Они измазались в дерьме как ебаные свиньи. Я изнасиловал твоих родителей в жопу саблей и разодрал им прямую кишку лезвием. У твоих родаков из анусов хлынула кровь. Твой отец стал пить кровь из жопы твоей матери, а твоя мать — из жопы отца. А потом я облил их бензином и поджег, и твои родаки сгорели заживо в диких мучениях. А ты наблюдал за всем этим из угла"
             , "Я твою мать учил хуем плавать"
             , "Я на яйцах твоего отчима хуярил как на барабанах лопатой"
             , " Ты откусил клитор что она кричала тебе в ответ?"
             , "  продал твою матуху на органы чтобы купить газ и спалить твою семью к хуям"
             , " С пизды твоей матери после траха негра сыпятся сомородки спермы"
             , " Я продал твою семью хачам за пачку сигарет"
             , "Пизди в залупу сын мусоровоза"
             , "Ты появился после того как собака накончала на обод унитаза а твоя мать села "
             , " Ты просто низжшее существо эволюции школы минета"
             , " Твоя мать ебаная шавка которая сосет всем в конфе"
             , " Я ебасос твоей мамаши раскладывал как коврик и каждый о него вытирал ноги при входе в конфу"
             , " Я труп твоей матухи выловил на рыбалке что ты ей сказал когда увидел"
             , " чососи "
             , " Твоя матуха кидается на мой хуй как дворовая шавка на мясо"
             , " Поебут твою свиноматерь хачи"
             , " Я ебнул о твою мать тарелку с самородками спермы тоесть ее обедом"
             , " Сходи полижи клитор своей свиноматери"
             , " Ты гнойный пидор я ебу твою сестру до потери ее сознания"
             , " Че по шаблончикам нищ"
             , " Сходи нахуй сын падика нищего"
             , " Вся конфа видит как я тебя унижаю"
             , " Сессия по минету начинается для тебя сегодня и заканчивается после потери твоего сознания"
             , " Залазий под стол ниЩ ебучий "
             , " Твою мамашу ежедневно поебывает толпа ебучих хачей"
             , " Ты сын ебка черного соси"
             , " Закончились шаблончики сын камаза и мусорки?"
             , " Я твою матуху на хуй как макаронину наматываю ежедневно"
             , " Очко твоего батька ежедневно НЛО захватывает на опыты"
             , " Я сжигал твою семью как евреев в 43"
             , " Твой батя как камикадзе летит в пиздак твоей матухи"
             , " Твой брат нищий терорист заложил 2000 тонн говна в рот твоей свиноматери"
             , " не могу передать те чувства когда твоя спидозная мамаша мне сосёт"
             , " я стрелял в твою мать хуём выстрелил и она тварь ожила и начала ползти к моему хую"
             , "твою мать ща хуём расчеленил а она даже в таком положении смогла отсосать мне"
             , " ну просто пойми что если ты сейчас не откажешься от дозы моего хуя в твоей ротовой полости то я буду вынужден уебать своими яйцами по твоему детскому анусу? ) и я буду бить по нему пока он не перестанет вонять рыбой?)"
             , " ты понимаешь что мой хуй использует клиторе твоей матери как спальный мешок в походе ?)"
             , " твою мать хуём так то до оргазма довёл а твой батя в это время в ахуе стоял"
             , "на заводе твою мать ебал пока все что то производили твою мать в цехе по обработке мой хуй обрабатывала ору"
             , " на крестинах твою мать ебал шикарный праздник но даже там твоя мать умудрилась раставить перед мной свои ноги"
             , "ну твоя мать уже по блату мне сосёт но ей не хватает стимула может твоему бати хуём вены вскрыть"
             , " на спине твоя мать наколола мой хуй и теперь хвастаеться всем что у них нет более охуенее татуировкой чем у неё"
             , " Когда я устраивал пир во время чумы со своими друзьями простые смертные тролли погибали а мы заливались вином и тут прибежала твоя мать и попросилась к нам за отсос она отсосала конечно всему замку но ты же понимаешь что мы её не пустили"
             , " По каким приинам твоя мамаша стало шлюхой так как она начала принимать по милионов членов в день мы прозвали ее ебанная давалка теперь сам подумай почему это бялдина пала в наших глазах."
             , "я же пизду твоей мамаши выебу слышишь ты конченная мразоат, втоя мамаш наебананя моим хуем. ебанная ты гнилоебка. я твою ммамашу в рот ебал"
             , "ну ну скажи что твоя мамашка не шаболда я своим хуём это опровергну"
             , "ну и чё мы теперь с твоим батей друзья после того как я дал твоей мамашке на клык он узнал что она жалкая шлюха и сдал её мне в рабство"
             , " Твоя мать эгоистка по отношению к твоему бати ведь всем нам она сосёт а бати даёт только мохнатку полизать мы решили что это не правильно и отбили ей шамаров за это теперь она сосет твоему бати как и нам но твой батя тоже пару раз нам сосал но это уже другая история."
             , "Идёт набор в ряды молодых бойцов для отправки их на войну в чечню но блять нахуй туда поперлась твоя мать ее план когда наши будут отбивать атаки боевиком она будет их отвлекать отсосом тогда боевики раздобряться и наши их смогут вынести."
             , "Поступил приказ нейтрализовать твою мать в целом мы уже поняли что лишимся самой лучшой шкуры на районе но делать было нечего мы взяли оружие и пошли но когда мы вломились к ней в дом ее уже ебали 20 человек мы не могли прервать процес"
             , "твою мать ща хуём расчеленил а она даже в таком положении смогла отсосать мне"
             , "твоя мать даже не может аргументировать своё сосания это стало её хобби"
             , " на тарзанке твою мать ебал когда она пыталась спрыгнуть с неё я подхватил её хуём и уебал об землю пусть только ещё раз попробует выкинуть что нибудь такое"
             , " твоя мать уже давно начала проявлять уважения к моему хую и здароваеться с ним"
             , " Cегодня твоя мать решила поставить на кон всё и сыграть с нами в рускую рулекту естественно когда она поднесла пистолет к веску побоялась стрелять ну мы просто так этого не оставили и ебали за такое твою мать до утра не ну скажи тупая шлюха."
             , " и чё ты щас тоже будешь от хуя увиливать как твоя мать или начнёшь на норме сосать"
             , " хуём твою мать научил писать но она плохо воспринимает учения и начинает сосать на автомате"]
        self.db.set(self.strings["name"], "state", True)
        while self.db.get(self.strings["name"], "state"):
            await message.respond(text + random.choice(shabl))
            await sleep(0.1)
            await sleep(time)
